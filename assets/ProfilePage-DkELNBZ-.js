import{l as O,j as e,V as X,I as Z,r as $,X as q,P as G,Q as ee,J as t,T as i,Y as se,aw as ie,M as H,O as c,K as l,L as u,S as w,N,ax as ne}from"./index-efdPUol4.js";import{u as re,P as F,E as te}from"./useContactPass-C7GxDKa3.js";import{C as Y}from"./Container-DUS3ebvr.js";import{G as a,C as x}from"./Grid-BkV9zHvN.js";import{M as ae,L as U}from"./MoreVert-lOpe5q0C.js";import{E as Q}from"./Edit-kPVQIA9X.js";import{C as h}from"./CardContent-9X4Ybv8D.js";import{V as le}from"./Visibility-C8aJTt8l.js";import{P as M}from"./Payment-Bzj6Tx_N.js";import{T as ce,a as A}from"./Tabs-hJGL6LMx.js";import{T as L,a as D,b as k,c as g,d as n,e as W}from"./TableRow-nc5ueLho.js";import"./pricing-CnH_CcUh.js";const _=O(e.jsx("path",{d:"M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2m0 13H4v-2h16zm0-5H4V4h16z"})),oe=O(e.jsx("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"}));function S(r){const{children:o,value:d,index:b,...P}=r;return e.jsx("div",{role:"tabpanel",hidden:d!==b,id:`profile-tabpanel-${b}`,"aria-labelledby":`profile-tab-${b}`,...P,children:d===b&&e.jsx(t,{sx:{py:3},children:o})})}const Ce=()=>{const{user:r}=X(),o=Z(),[d,b]=$.useState(0),[P,B]=$.useState(null),{hasActivePass:j,getDaysRemaining:f,purchaseContactPass:T,loading:y,price:V}=re();if(!r)return e.jsx(Y,{maxWidth:"lg",sx:{px:{xs:2,sm:3},py:{xs:2,sm:3}},children:e.jsx(q,{severity:"error",children:"Please log in to view your profile."})});const p=[{id:"1",title:"iPhone 13 Pro - Excellent Condition",price:65e3,status:"active",views:156,createdAt:new Date(Date.now()-864e5),category:"Electronics"},{id:"2",title:"MacBook Pro 2021",price:12e4,status:"sold",views:89,createdAt:new Date(Date.now()-1728e5),category:"Electronics"}],E=[{id:"1",title:"Looking for Honda City",budget:{min:8e5,max:1e6},status:"active",responses:12,createdAt:new Date(Date.now()-2592e5),category:"Vehicles"}],I=[{id:"1",type:"Listing Fee",amount:99,status:"completed",date:new Date(Date.now()-864e5),listingTitle:"iPhone 13 Pro"}],J=(s,C)=>{b(C)},K=s=>{B(s.currentTarget)},z=()=>{B(null)},m=s=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(s),v=s=>new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"short",day:"numeric"}).format(s),R=s=>{switch(s){case"active":return"success";case"sold":return"info";case"expired":return"warning";case"draft":return"default";case"completed":return"success";case"pending":return"warning";case"failed":return"error";default:return"default"}};return e.jsxs(Y,{maxWidth:"lg",sx:{px:{xs:2,sm:3},py:{xs:2,sm:3}},children:[e.jsx(G,{elevation:3,sx:{p:4,borderRadius:3,mb:4},children:e.jsxs(a,{container:!0,spacing:3,alignItems:"center",children:[e.jsx(a,{item:!0,children:e.jsx(ee,{src:r.avatar,alt:r.name,sx:{width:120,height:120,fontSize:"3rem"},children:r.name.charAt(0)})}),e.jsxs(a,{item:!0,xs:!0,children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(i,{variant:"h4",sx:{fontWeight:"bold",mr:2},children:r.name}),r.isVerified&&e.jsx(oe,{color:"success",sx:{fontSize:"2rem"}}),e.jsxs(t,{sx:{ml:"auto"},children:[e.jsx(se,{onClick:K,children:e.jsx(ae,{})}),e.jsxs(ie,{anchorEl:P,open:!!P,onClose:z,children:[e.jsxs(H,{onClick:z,children:[e.jsx(Q,{sx:{mr:1}})," Edit Profile"]}),e.jsxs(H,{onClick:z,children:[e.jsx(F,{sx:{mr:1}})," Update Phone"]})]})]})]}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:1,mb:2},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",color:"text.secondary"},children:[e.jsx(te,{fontSize:"small",sx:{mr:1}}),e.jsx(i,{variant:"body1",children:r.email})]}),r.phone&&e.jsxs(t,{sx:{display:"flex",alignItems:"center",color:"text.secondary"},children:[e.jsx(F,{fontSize:"small",sx:{mr:1}}),e.jsx(i,{variant:"body1",children:r.phone})]})]}),e.jsxs(t,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[e.jsx(c,{label:`Role: ${r.role}`,color:"primary"}),e.jsx(c,{label:r.isVerified?"Email Verified":"Email Not Verified",color:r.isVerified?"success":"warning"}),e.jsx(c,{label:r.phone?"Phone Verified":"Phone Not Verified",color:r.phone?"success":"warning"}),e.jsx(c,{label:j?`Contact Pass Active (${f()}d)`:"No Contact Pass",color:j?"success":"default",icon:e.jsx(_,{})}),e.jsx(c,{label:`Member since ${v(r.createdAt)}`,variant:"outlined"})]}),e.jsxs(t,{sx:{mt:2,display:"flex",gap:1,flexWrap:"wrap"},children:[!r.isVerified&&e.jsx(l,{variant:"outlined",size:"small",color:"warning",children:"Verify Email"}),!r.phone&&e.jsx(l,{variant:"outlined",size:"small",color:"warning",onClick:()=>o(u.VERIFY),children:"Verify Phone"}),!j&&e.jsx(l,{variant:"contained",size:"small",color:"secondary",onClick:T,disabled:y,children:y?"Processing...":`Get Contact Pass - ${m(V)}`})]})]})]})}),e.jsxs(a,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(a,{item:!0,xs:12,sm:6,md:2.4,children:e.jsx(x,{children:e.jsxs(h,{sx:{textAlign:"center"},children:[e.jsx(_,{color:j?"success":"disabled",sx:{fontSize:"3rem",mb:1}}),e.jsx(i,{variant:"h6",sx:{fontWeight:"bold"},children:"Contact Pass"}),e.jsx(i,{variant:"body2",color:"text.secondary",children:j?`${f()} days left`:"Not active"}),j&&e.jsx(t,{sx:{mt:2},children:e.jsx(U,{variant:"determinate",value:f()/15*100,color:"success"})})]})})}),e.jsx(a,{item:!0,xs:12,sm:6,md:2.4,children:e.jsx(x,{children:e.jsxs(h,{sx:{textAlign:"center"},children:[e.jsx(w,{color:"primary",sx:{fontSize:"3rem",mb:1}}),e.jsx(i,{variant:"h4",sx:{fontWeight:"bold"},children:p.length}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"Active Listings"})]})})}),e.jsx(a,{item:!0,xs:12,sm:6,md:2.4,children:e.jsx(x,{children:e.jsxs(h,{sx:{textAlign:"center"},children:[e.jsx(N,{color:"secondary",sx:{fontSize:"3rem",mb:1}}),e.jsx(i,{variant:"h4",sx:{fontWeight:"bold"},children:E.length}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"Requirements"})]})})}),e.jsx(a,{item:!0,xs:12,sm:6,md:2.4,children:e.jsx(x,{children:e.jsxs(h,{sx:{textAlign:"center"},children:[e.jsx(le,{color:"success",sx:{fontSize:"3rem",mb:1}}),e.jsx(i,{variant:"h4",sx:{fontWeight:"bold"},children:p.reduce((s,C)=>s+C.views,0)}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"Total Views"})]})})}),e.jsx(a,{item:!0,xs:12,sm:6,md:2.4,children:e.jsx(x,{children:e.jsxs(h,{sx:{textAlign:"center"},children:[e.jsx(M,{color:"warning",sx:{fontSize:"3rem",mb:1}}),e.jsxs(i,{variant:"h4",sx:{fontWeight:"bold"},children:["â‚¹",I.reduce((s,C)=>s+C.amount,0)]}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"Total Spent"})]})})})]}),e.jsxs(G,{elevation:3,sx:{borderRadius:3},children:[e.jsx(t,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(ce,{value:d,onChange:J,"aria-label":"profile tabs",children:[e.jsx(A,{icon:e.jsx(w,{}),label:"My Listings",iconPosition:"start"}),e.jsx(A,{icon:e.jsx(N,{}),label:"My Requirements",iconPosition:"start"}),e.jsx(A,{icon:e.jsx(M,{}),label:"Payment History",iconPosition:"start"}),e.jsx(A,{icon:e.jsx(ne,{}),label:"Account Settings",iconPosition:"start"})]})}),e.jsxs(S,{value:d,index:0,children:[e.jsxs(t,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(i,{variant:"h6",sx:{fontWeight:"bold"},children:["My Listings (",p.length,")"]}),e.jsx(l,{variant:"contained",startIcon:e.jsx(w,{}),onClick:()=>o(u.CREATE_LISTING),children:"Create New Listing"})]}),e.jsx(L,{children:e.jsxs(D,{children:[e.jsx(k,{children:e.jsxs(g,{children:[e.jsx(n,{children:"Title"}),e.jsx(n,{children:"Category"}),e.jsx(n,{children:"Price"}),e.jsx(n,{children:"Status"}),e.jsx(n,{children:"Views"}),e.jsx(n,{children:"Created"}),e.jsx(n,{children:"Actions"})]})}),e.jsx(W,{children:p.map(s=>e.jsxs(g,{children:[e.jsx(n,{children:e.jsx(i,{variant:"body2",sx:{fontWeight:"medium"},children:s.title})}),e.jsx(n,{children:s.category}),e.jsx(n,{children:m(s.price)}),e.jsx(n,{children:e.jsx(c,{size:"small",label:s.status,color:R(s.status)})}),e.jsx(n,{children:s.views}),e.jsx(n,{children:v(s.createdAt)}),e.jsx(n,{children:e.jsx(l,{size:"small",onClick:()=>o(`${u.LISTINGS}/${s.id}`),children:"View"})})]},s.id))})]})}),p.length===0&&e.jsxs(t,{sx:{textAlign:"center",py:6},children:[e.jsx(w,{sx:{fontSize:"4rem",color:"text.secondary",mb:2}}),e.jsx(i,{variant:"h6",gutterBottom:!0,children:"No listings yet"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Start selling by creating your first listing"}),e.jsx(l,{variant:"contained",onClick:()=>o(u.CREATE_LISTING),children:"Create Listing"})]})]}),e.jsxs(S,{value:d,index:1,children:[e.jsxs(t,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(i,{variant:"h6",sx:{fontWeight:"bold"},children:["My Requirements (",E.length,")"]}),e.jsx(l,{variant:"contained",startIcon:e.jsx(N,{}),onClick:()=>o(u.CREATE_REQUIREMENT),children:"Post New Requirement"})]}),e.jsx(L,{children:e.jsxs(D,{children:[e.jsx(k,{children:e.jsxs(g,{children:[e.jsx(n,{children:"Title"}),e.jsx(n,{children:"Category"}),e.jsx(n,{children:"Budget"}),e.jsx(n,{children:"Status"}),e.jsx(n,{children:"Responses"}),e.jsx(n,{children:"Posted"}),e.jsx(n,{children:"Actions"})]})}),e.jsx(W,{children:E.map(s=>e.jsxs(g,{children:[e.jsx(n,{children:e.jsx(i,{variant:"body2",sx:{fontWeight:"medium"},children:s.title})}),e.jsx(n,{children:s.category}),e.jsxs(n,{children:[m(s.budget.min)," - ",m(s.budget.max)]}),e.jsx(n,{children:e.jsx(c,{size:"small",label:s.status,color:R(s.status)})}),e.jsx(n,{children:s.responses}),e.jsx(n,{children:v(s.createdAt)}),e.jsx(n,{children:e.jsx(l,{size:"small",onClick:()=>o(`${u.REQUIREMENTS}/${s.id}`),children:"View"})})]},s.id))})]})})]}),e.jsxs(S,{value:d,index:2,children:[e.jsx(i,{variant:"h6",sx:{fontWeight:"bold",mb:3},children:"Payment History"}),e.jsx(L,{children:e.jsxs(D,{children:[e.jsx(k,{children:e.jsxs(g,{children:[e.jsx(n,{children:"Type"}),e.jsx(n,{children:"Description"}),e.jsx(n,{children:"Amount"}),e.jsx(n,{children:"Status"}),e.jsx(n,{children:"Date"})]})}),e.jsx(W,{children:I.map(s=>e.jsxs(g,{children:[e.jsx(n,{children:s.type}),e.jsx(n,{children:s.listingTitle}),e.jsx(n,{children:m(s.amount)}),e.jsx(n,{children:e.jsx(c,{size:"small",label:s.status,color:R(s.status)})}),e.jsx(n,{children:v(s.date)})]},s.id))})]})}),I.length===0&&e.jsxs(t,{sx:{textAlign:"center",py:6},children:[e.jsx(M,{sx:{fontSize:"4rem",color:"text.secondary",mb:2}}),e.jsx(i,{variant:"h6",gutterBottom:!0,children:"No payment history"}),e.jsx(i,{variant:"body2",color:"text.secondary",children:"Your payment transactions will appear here"})]})]}),e.jsxs(S,{value:d,index:3,children:[e.jsx(i,{variant:"h6",sx:{fontWeight:"bold",mb:3},children:"Account Settings"}),e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,children:e.jsx(x,{children:e.jsxs(h,{children:[e.jsx(i,{variant:"h6",gutterBottom:!0,children:"Contact Pass"}),j?e.jsxs(t,{children:[e.jsxs(i,{variant:"body1",sx:{mb:2},children:["Your Contact Pass is active for ",f()," more days."]}),e.jsx(U,{variant:"determinate",value:f()/15*100,color:"success",sx:{mb:2}}),e.jsx(l,{variant:"outlined",onClick:T,disabled:y,children:y?"Processing...":`Renew - ${m(V)}`})]}):e.jsxs(t,{children:[e.jsx(i,{variant:"body1",sx:{mb:2},children:"Get unlimited access to contact sellers for 15 days."}),e.jsx(l,{variant:"contained",color:"secondary",onClick:T,disabled:y,children:y?"Processing...":`Get Contact Pass - ${m(V)}`})]})]})})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(x,{children:e.jsxs(h,{children:[e.jsx(i,{variant:"h6",gutterBottom:!0,children:"Personal Information"}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(t,{children:[e.jsx(i,{variant:"body2",color:"text.secondary",children:"Name"}),e.jsx(i,{variant:"body1",children:r.name})]}),e.jsxs(t,{children:[e.jsx(i,{variant:"body2",color:"text.secondary",children:"Email"}),e.jsx(i,{variant:"body1",children:r.email})]}),e.jsxs(t,{children:[e.jsx(i,{variant:"body2",color:"text.secondary",children:"Phone"}),e.jsx(i,{variant:"body1",children:r.phone||"Not provided"})]}),e.jsx(l,{variant:"outlined",startIcon:e.jsx(Q,{}),children:"Edit Profile"})]})]})})}),e.jsx(a,{item:!0,xs:12,md:6,children:e.jsx(x,{children:e.jsxs(h,{children:[e.jsx(i,{variant:"h6",gutterBottom:!0,children:"Account Status"}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(t,{children:[e.jsx(i,{variant:"body2",color:"text.secondary",children:"Verification Status"}),e.jsx(c,{label:r.isVerified?"Verified":"Pending Verification",color:r.isVerified?"success":"warning",size:"small"})]}),e.jsxs(t,{children:[e.jsx(i,{variant:"body2",color:"text.secondary",children:"Account Type"}),e.jsx(c,{label:r.role,color:"primary",size:"small"})]}),e.jsxs(t,{children:[e.jsx(i,{variant:"body2",color:"text.secondary",children:"Member Since"}),e.jsx(i,{variant:"body1",children:v(r.createdAt)})]}),!r.isVerified&&e.jsx(l,{variant:"contained",onClick:()=>o(u.VERIFY),children:"Verify Account"})]})]})})})]})]})]})]})};export{Ce as default};
