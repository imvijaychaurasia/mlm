var ve=o=>{throw TypeError(o)};var de=(o,e,r)=>e.has(o)||ve("Cannot "+r);var f=(o,e,r)=>(de(o,e,"read from private field"),r?r.call(o):e.get(o)),te=(o,e,r)=>e.has(o)?ve("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,r),oe=(o,e,r,s)=>(de(o,e,"write to private field"),s?s.call(o,r):e.set(o,r),r),re=(o,e,r)=>(de(o,e,"access private method"),r);import{g as Q,n as X,r as u,u as J,j as t,v as I,c as q,f as Z,aa as Ue,w as T,x as O,l as le,ab as Ee,t as pe,ac as Fe,ad as ke,ae as ye,af as Oe,ag as Ne,ah as De,ai as Ve,aj as He,I as Ge,P as Ke,J as N,T as y,W as fe,K as Se,X as je,M as Ie,a4 as Le,L as Ye}from"./index-OIlrF6ts.js";import{u as _e,o as Qe,C as A,c as Xe,a as E,d as Je}from"./index.esm-BfB3Xwyz.js";import{u as Ze}from"./useQuery-05G8RKHM.js";import{f as et,a as tt}from"./pricing-DJQb7-pI.js";import{C as ot}from"./Container-Bm6iMvXw.js";import{A as rt}from"./Add-CI9m5IxH.js";import{C as Ce,G as se}from"./Grid-CTZjRrGg.js";import{C as we}from"./CardContent-C-hmPjTP.js";import{T as G,F as Pe,I as Me,S as Re}from"./TextField-B4epLPd5.js";import{I as st}from"./InputAdornment-B8r4LN60.js";function it(o){return Q("MuiImageList",o)}X("MuiImageList",["root","masonry","quilted","standard","woven"]);const Te=u.createContext({}),nt=o=>{const{classes:e,variant:r}=o;return Z({root:["root",r]},it,e)},at=I("ul",{name:"MuiImageList",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:r}=o;return[e.root,e[r.variant]]}})({display:"grid",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch",variants:[{props:{variant:"masonry"},style:{display:"block"}}]}),lt=u.forwardRef(function(e,r){const s=J({props:e,name:"MuiImageList"}),{children:i,className:l,cols:m=2,component:c="ul",rowHeight:h="auto",gap:x=4,style:a,variant:n="standard",...b}=s,d=u.useMemo(()=>({rowHeight:h,gap:x,variant:n}),[h,x,n]),w=n==="masonry"?{columnCount:m,columnGap:x,...a}:{gridTemplateColumns:`repeat(${m}, 1fr)`,gap:x,...a},S={...s,component:c,gap:x,rowHeight:h,variant:n},j=nt(S);return t.jsx(at,{as:c,className:q(j.root,j[n],l),ref:r,style:w,ownerState:S,...b,children:t.jsx(Te.Provider,{value:d,children:i})})});function ct(o){return Q("MuiImageListItem",o)}const ue=X("MuiImageListItem",["root","img","standard","woven","masonry","quilted"]),dt=o=>{const{classes:e,variant:r}=o;return Z({root:["root",r],img:["img"]},ct,e)},pt=I("li",{name:"MuiImageListItem",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:r}=o;return[{[`& .${ue.img}`]:e.img},e.root,e[r.variant]]}})({display:"block",position:"relative",[`& .${ue.img}`]:{objectFit:"cover",width:"100%",height:"100%",display:"block"},variants:[{props:{variant:"standard"},style:{display:"flex",flexDirection:"column"}},{props:{variant:"woven"},style:{height:"100%",alignSelf:"center","&:nth-of-type(even)":{height:"70%"}}},{props:{variant:"standard"},style:{[`& .${ue.img}`]:{height:"auto",flexGrow:1}}}]}),ut=u.forwardRef(function(e,r){const s=J({props:e,name:"MuiImageListItem"}),{children:i,className:l,cols:m=1,component:c="li",rows:h=1,style:x,...a}=s,{rowHeight:n="auto",gap:b,variant:d}=u.useContext(Te);let w="auto";d==="woven"?w=void 0:n!=="auto"&&(w=n*h+b*(h-1));const S={...s,cols:m,component:c,gap:b,rowHeight:n,rows:h,variant:d},j=dt(S);return t.jsx(pt,{as:c,className:q(j.root,j[d],l),ref:r,style:{height:w,gridColumnEnd:d!=="masonry"?`span ${m}`:void 0,gridRowEnd:d!=="masonry"?`span ${h}`:void 0,marginBottom:d==="masonry"?b:void 0,breakInside:d==="masonry"?"avoid":void 0,...x},ownerState:S,...a,children:u.Children.map(i,L=>u.isValidElement(L)?L.type==="img"||Ue(L,["Image"])?u.cloneElement(L,{className:q(j.img,L.props.className)}):L:null)})});function mt(o){return Q("MuiImageListItemBar",o)}X("MuiImageListItemBar",["root","positionBottom","positionTop","positionBelow","actionPositionLeft","actionPositionRight","titleWrap","titleWrapBottom","titleWrapTop","titleWrapBelow","titleWrapActionPosLeft","titleWrapActionPosRight","title","subtitle","actionIcon","actionIconActionPosLeft","actionIconActionPosRight"]);const ht=o=>{const{classes:e,position:r,actionIcon:s,actionPosition:i}=o,l={root:["root",`position${T(r)}`,`actionPosition${T(i)}`],titleWrap:["titleWrap",`titleWrap${T(r)}`,s&&`titleWrapActionPos${T(i)}`],title:["title"],subtitle:["subtitle"],actionIcon:["actionIcon",`actionIconActionPos${T(i)}`]};return Z(l,mt,e)},gt=I("div",{name:"MuiImageListItemBar",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:r}=o;return[e.root,e[`position${T(r.position)}`]]}})(O(({theme:o})=>({position:"absolute",left:0,right:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",fontFamily:o.typography.fontFamily,variants:[{props:{position:"bottom"},style:{bottom:0}},{props:{position:"top"},style:{top:0}},{props:{position:"below"},style:{position:"relative",background:"transparent",alignItems:"normal"}}]}))),xt=I("div",{name:"MuiImageListItemBar",slot:"TitleWrap",overridesResolver:(o,e)=>{const{ownerState:r}=o;return[e.titleWrap,e[`titleWrap${T(r.position)}`],r.actionIcon&&e[`titleWrapActionPos${T(r.actionPosition)}`]]}})(O(({theme:o})=>({flexGrow:1,padding:"12px 16px",color:(o.vars||o).palette.common.white,overflow:"hidden",variants:[{props:{position:"below"},style:{padding:"6px 0 12px",color:"inherit"}},{props:({ownerState:e})=>e.actionIcon&&e.actionPosition==="left",style:{paddingLeft:0}},{props:({ownerState:e})=>e.actionIcon&&e.actionPosition==="right",style:{paddingRight:0}}]}))),bt=I("div",{name:"MuiImageListItemBar",slot:"Title"})(O(({theme:o})=>({fontSize:o.typography.pxToRem(16),lineHeight:"24px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}))),vt=I("div",{name:"MuiImageListItemBar",slot:"Subtitle"})(O(({theme:o})=>({fontSize:o.typography.pxToRem(12),lineHeight:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}))),yt=I("div",{name:"MuiImageListItemBar",slot:"ActionIcon",overridesResolver:(o,e)=>{const{ownerState:r}=o;return[e.actionIcon,e[`actionIconActionPos${T(r.actionPosition)}`]]}})({variants:[{props:{actionPosition:"left"},style:{order:-1}}]}),ft=u.forwardRef(function(e,r){const s=J({props:e,name:"MuiImageListItemBar"}),{actionIcon:i,actionPosition:l="right",className:m,subtitle:c,title:h,position:x="bottom",...a}=s,n={...s,position:x,actionPosition:l},b=ht(n);return t.jsxs(gt,{ownerState:n,className:q(b.root,m),ref:r,...a,children:[t.jsxs(xt,{ownerState:n,className:b.titleWrap,children:[t.jsx(bt,{className:b.title,children:h}),c?t.jsx(vt,{className:b.subtitle,children:c}):null]}),i?t.jsx(yt,{ownerState:n,className:b.actionIcon,children:i}):null]})}),ce=u.createContext({}),be=u.createContext({});function St(o){return Q("MuiStep",o)}X("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const jt=o=>{const{classes:e,orientation:r,alternativeLabel:s,completed:i}=o;return Z({root:["root",r,s&&"alternativeLabel",i&&"completed"]},St,e)},It=I("div",{name:"MuiStep",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:r}=o;return[e.root,e[r.orientation],r.alternativeLabel&&e.alternativeLabel,r.completed&&e.completed]}})({variants:[{props:{orientation:"horizontal"},style:{paddingLeft:8,paddingRight:8}},{props:{alternativeLabel:!0},style:{flex:1,position:"relative"}}]}),Lt=u.forwardRef(function(e,r){const s=J({props:e,name:"MuiStep"}),{active:i,children:l,className:m,component:c="div",completed:h,disabled:x,expanded:a=!1,index:n,last:b,...d}=s,{activeStep:w,connector:S,alternativeLabel:j,orientation:L,nonLinear:$}=u.useContext(ce);let[M=!1,D=!1,B=!1]=[i,h,x];w===n?M=i!==void 0?i:!0:!$&&w>n?D=h!==void 0?h:!0:!$&&w<n&&(B=x!==void 0?x:!0);const ee=u.useMemo(()=>({index:n,last:b,expanded:a,icon:n+1,active:M,completed:D,disabled:B}),[n,b,a,M,D,B]),W={...s,active:M,orientation:L,alternativeLabel:j,completed:D,disabled:B,expanded:a,component:c},V=jt(W),H=t.jsxs(It,{as:c,className:q(V.root,m),ref:r,ownerState:W,...d,children:[S&&j&&n!==0?S:null,l]});return t.jsx(be.Provider,{value:ee,children:S&&!j&&n!==0?t.jsxs(u.Fragment,{children:[S,H]}):H})}),Ct=le(t.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"})),wt=le(t.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}));function Pt(o){return Q("MuiStepIcon",o)}const me=X("MuiStepIcon",["root","active","completed","error","text"]);var $e;const Mt=o=>{const{classes:e,active:r,completed:s,error:i}=o;return Z({root:["root",r&&"active",s&&"completed",i&&"error"],text:["text"]},Pt,e)},he=I(Ee,{name:"MuiStepIcon",slot:"Root"})(O(({theme:o})=>({display:"block",transition:o.transitions.create("color",{duration:o.transitions.duration.shortest}),color:(o.vars||o).palette.text.disabled,[`&.${me.completed}`]:{color:(o.vars||o).palette.primary.main},[`&.${me.active}`]:{color:(o.vars||o).palette.primary.main},[`&.${me.error}`]:{color:(o.vars||o).palette.error.main}}))),Rt=I("text",{name:"MuiStepIcon",slot:"Text"})(O(({theme:o})=>({fill:(o.vars||o).palette.primary.contrastText,fontSize:o.typography.caption.fontSize,fontFamily:o.typography.fontFamily}))),$t=u.forwardRef(function(e,r){const s=J({props:e,name:"MuiStepIcon"}),{active:i=!1,className:l,completed:m=!1,error:c=!1,icon:h,...x}=s,a={...s,active:i,completed:m,error:c},n=Mt(a);if(typeof h=="number"||typeof h=="string"){const b=q(l,n.root);return c?t.jsx(he,{as:wt,className:b,ref:r,ownerState:a,...x}):m?t.jsx(he,{as:Ct,className:b,ref:r,ownerState:a,...x}):t.jsxs(he,{className:b,ref:r,ownerState:a,...x,children:[$e||($e=t.jsx("circle",{cx:"12",cy:"12",r:"12"})),t.jsx(Rt,{className:n.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:a,children:h})]})}return h});function Wt(o){return Q("MuiStepLabel",o)}const _=X("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),Nt=o=>{const{classes:e,orientation:r,active:s,completed:i,error:l,disabled:m,alternativeLabel:c}=o;return Z({root:["root",r,l&&"error",m&&"disabled",c&&"alternativeLabel"],label:["label",s&&"active",i&&"completed",l&&"error",m&&"disabled",c&&"alternativeLabel"],iconContainer:["iconContainer",s&&"active",i&&"completed",l&&"error",m&&"disabled",c&&"alternativeLabel"],labelContainer:["labelContainer",c&&"alternativeLabel"]},Wt,e)},Tt=I("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:r}=o;return[e.root,e[r.orientation]]}})({display:"flex",alignItems:"center",[`&.${_.alternativeLabel}`]:{flexDirection:"column"},[`&.${_.disabled}`]:{cursor:"default"},variants:[{props:{orientation:"vertical"},style:{textAlign:"left",padding:"8px 0"}}]}),Bt=I("span",{name:"MuiStepLabel",slot:"Label"})(O(({theme:o})=>({...o.typography.body2,display:"block",transition:o.transitions.create("color",{duration:o.transitions.duration.shortest}),[`&.${_.active}`]:{color:(o.vars||o).palette.text.primary,fontWeight:500},[`&.${_.completed}`]:{color:(o.vars||o).palette.text.primary,fontWeight:500},[`&.${_.alternativeLabel}`]:{marginTop:16},[`&.${_.error}`]:{color:(o.vars||o).palette.error.main}}))),At=I("span",{name:"MuiStepLabel",slot:"IconContainer"})({flexShrink:0,display:"flex",paddingRight:8,[`&.${_.alternativeLabel}`]:{paddingRight:0}}),qt=I("span",{name:"MuiStepLabel",slot:"LabelContainer"})(O(({theme:o})=>({width:"100%",color:(o.vars||o).palette.text.secondary,[`&.${_.alternativeLabel}`]:{textAlign:"center"}}))),Be=u.forwardRef(function(e,r){const s=J({props:e,name:"MuiStepLabel"}),{children:i,className:l,componentsProps:m={},error:c=!1,icon:h,optional:x,slots:a={},slotProps:n={},StepIconComponent:b,StepIconProps:d,...w}=s,{alternativeLabel:S,orientation:j}=u.useContext(ce),{active:L,disabled:$,completed:M,icon:D}=u.useContext(be),B=h||D;let ee=b;B&&!ee&&(ee=$t);const W={...s,active:L,alternativeLabel:S,completed:M,disabled:$,error:c,orientation:j},V=Nt(W),H={slots:a,slotProps:{stepIcon:d,...m,...n}},[ne,p]=pe("root",{elementType:Tt,externalForwardedProps:{...H,...w},ownerState:W,ref:r,className:q(V.root,l)}),[C,z]=pe("label",{elementType:Bt,externalForwardedProps:H,ownerState:W}),[U,R]=pe("stepIcon",{elementType:ee,externalForwardedProps:H,ownerState:W});return t.jsxs(ne,{...p,children:[B||U?t.jsx(At,{className:V.iconContainer,ownerState:W,children:t.jsx(U,{completed:M,active:L,error:c,icon:B,...R})}):null,t.jsxs(qt,{className:V.labelContainer,ownerState:W,children:[i?t.jsx(C,{...z,className:q(V.label,z==null?void 0:z.className),children:i}):null,x]})]})});Be.muiName="StepLabel";function zt(o){return Q("MuiStepConnector",o)}X("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const Ut=o=>{const{classes:e,orientation:r,alternativeLabel:s,active:i,completed:l,disabled:m}=o,c={root:["root",r,s&&"alternativeLabel",i&&"active",l&&"completed",m&&"disabled"],line:["line",`line${T(r)}`]};return Z(c,zt,e)},Et=I("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:r}=o;return[e.root,e[r.orientation],r.alternativeLabel&&e.alternativeLabel,r.completed&&e.completed]}})({flex:"1 1 auto",variants:[{props:{orientation:"vertical"},style:{marginLeft:12}},{props:{alternativeLabel:!0},style:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"}}]}),Ft=I("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(o,e)=>{const{ownerState:r}=o;return[e.line,e[`line${T(r.orientation)}`]]}})(O(({theme:o})=>{const e=o.palette.mode==="light"?o.palette.grey[400]:o.palette.grey[600];return{display:"block",borderColor:o.vars?o.vars.palette.StepConnector.border:e,variants:[{props:{orientation:"horizontal"},style:{borderTopStyle:"solid",borderTopWidth:1}},{props:{orientation:"vertical"},style:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}]}})),kt=u.forwardRef(function(e,r){const s=J({props:e,name:"MuiStepConnector"}),{className:i,...l}=s,{alternativeLabel:m,orientation:c="horizontal"}=u.useContext(ce),{active:h,disabled:x,completed:a}=u.useContext(be),n={...s,alternativeLabel:m,orientation:c,active:h,completed:a,disabled:x},b=Ut(n);return t.jsx(Et,{className:q(b.root,i),ref:r,ownerState:n,...l,children:t.jsx(Ft,{className:b.line,ownerState:n})})});function Ot(o){return Q("MuiStepper",o)}X("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const Dt=o=>{const{orientation:e,nonLinear:r,alternativeLabel:s,classes:i}=o;return Z({root:["root",e,r&&"nonLinear",s&&"alternativeLabel"]},Ot,i)},Vt=I("div",{name:"MuiStepper",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:r}=o;return[e.root,e[r.orientation],r.alternativeLabel&&e.alternativeLabel,r.nonLinear&&e.nonLinear]}})({display:"flex",variants:[{props:{orientation:"horizontal"},style:{flexDirection:"row",alignItems:"center"}},{props:{orientation:"vertical"},style:{flexDirection:"column"}},{props:{alternativeLabel:!0},style:{alignItems:"flex-start"}}]}),Ht=t.jsx(kt,{}),Gt=u.forwardRef(function(e,r){const s=J({props:e,name:"MuiStepper"}),{activeStep:i=0,alternativeLabel:l=!1,children:m,className:c,component:h="div",connector:x=Ht,nonLinear:a=!1,orientation:n="horizontal",...b}=s,d={...s,nonLinear:a,alternativeLabel:l,orientation:n,component:h},w=Dt(d),S=u.Children.toArray(m).filter(Boolean),j=S.map(($,M)=>u.cloneElement($,{index:M,last:M+1===S.length,...$.props})),L=u.useMemo(()=>({activeStep:i,alternativeLabel:l,connector:x,nonLinear:a,orientation:n}),[i,l,x,a,n]);return t.jsx(ce.Provider,{value:L,children:t.jsx(Vt,{as:h,ownerState:d,className:q(w.root,c),ref:r,...b,children:j})})});var K,Y,P,F,k,ae,xe,We,Kt=(We=class extends Fe{constructor(e,r){super();te(this,k);te(this,K);te(this,Y);te(this,P);te(this,F);oe(this,K,e),this.setOptions(r),this.bindMethods(),re(this,k,ae).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var s;const r=this.options;this.options=f(this,K).defaultMutationOptions(e),ke(this.options,r)||f(this,K).getMutationCache().notify({type:"observerOptionsUpdated",mutation:f(this,P),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ye(r.mutationKey)!==ye(this.options.mutationKey)?this.reset():((s=f(this,P))==null?void 0:s.state.status)==="pending"&&f(this,P).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=f(this,P))==null||e.removeObserver(this)}onMutationUpdate(e){re(this,k,ae).call(this),re(this,k,xe).call(this,e)}getCurrentResult(){return f(this,Y)}reset(){var e;(e=f(this,P))==null||e.removeObserver(this),oe(this,P,void 0),re(this,k,ae).call(this),re(this,k,xe).call(this)}mutate(e,r){var s;return oe(this,F,r),(s=f(this,P))==null||s.removeObserver(this),oe(this,P,f(this,K).getMutationCache().build(f(this,K),this.options)),f(this,P).addObserver(this),f(this,P).execute(e)}},K=new WeakMap,Y=new WeakMap,P=new WeakMap,F=new WeakMap,k=new WeakSet,ae=function(){var r;const e=((r=f(this,P))==null?void 0:r.state)??Oe();oe(this,Y,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},xe=function(e){Ne.batch(()=>{var r,s,i,l,m,c,h,x;if(f(this,F)&&this.hasListeners()){const a=f(this,Y).variables,n=f(this,Y).context;(e==null?void 0:e.type)==="success"?((s=(r=f(this,F)).onSuccess)==null||s.call(r,e.data,a,n),(l=(i=f(this,F)).onSettled)==null||l.call(i,e.data,null,a,n)):(e==null?void 0:e.type)==="error"&&((c=(m=f(this,F)).onError)==null||c.call(m,e.error,a,n),(x=(h=f(this,F)).onSettled)==null||x.call(h,void 0,e.error,a,n))}this.listeners.forEach(a=>{a(f(this,Y))})})},We);function Yt(o,e){const r=De(),[s]=u.useState(()=>new Kt(r,o));u.useEffect(()=>{s.setOptions(o)},[s,o]);const i=u.useSyncExternalStore(u.useCallback(m=>s.subscribe(Ne.batchCalls(m)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),l=u.useCallback((m,c)=>{s.mutate(m,c).catch(Ve)},[s]);if(i.error&&He(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:l,mutateAsync:i.mutate}}const _t=le(t.jsx("path",{d:"M13.66 7c-.56-1.18-1.76-2-3.16-2H6V3h12v2h-3.26c.48.58.84 1.26 1.05 2H18v2h-2.02c-.25 2.8-2.61 5-5.48 5h-.73l6.73 7h-2.77L7 14v-2h3.5c1.76 0 3.22-1.3 3.46-3H6V7z"})),Qt=le(t.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),Xt=Xe().shape({title:E().min(10,"Title must be at least 10 characters").max(100,"Title must be less than 100 characters").required("Title is required"),description:E().min(20,"Description must be at least 20 characters").max(2e3,"Description must be less than 2000 characters").required("Description is required"),price:Je().positive("Price must be positive").required("Price is required"),category:E().required("Category is required"),subcategory:E().required("Subcategory is required"),sellerPhone:E().matches(/^\+?\d{10,15}$/,"Invalid phone number").required("Phone number is required"),address:E().required("Address is required"),city:E().required("City is required"),state:E().required("State is required"),pincode:E().matches(/^\d{6}$/,"Invalid pincode").required("Pincode is required")}),ie=5,ge=["Basic Information","Details & Pricing","Location & Contact","Review"],co=()=>{var ne;const o=Ge(),[e,r]=u.useState(0),[s,i]=u.useState(null),[l,m]=u.useState([]),[c,h]=u.useState(null),{data:x=[]}=Ze({queryKey:["categories"],queryFn:()=>Le().getCategories()}),{control:a,handleSubmit:n,watch:b,formState:{errors:d,isValid:w},trigger:S}=_e({resolver:Qe(Xt),mode:"onChange",defaultValues:{title:"",description:"",price:0,category:"",subcategory:"",sellerPhone:"",address:"",city:"",state:"",pincode:""}}),j=b("category"),L=((ne=x.find(p=>p.id===j))==null?void 0:ne.subcategories)||[],$=Yt({mutationFn:p=>Le().createListing(p),onSuccess:p=>{o(`${Ye.LISTINGS}/${p.id}`)},onError:p=>{i(p.message||"Failed to create listing")}}),M=async p=>{const C={title:p.title,description:p.description,price:p.price,category:p.category,subcategory:p.subcategory,images:[],location:{lat:28.6139,lng:77.209,address:p.address,city:p.city,state:p.state,pincode:p.pincode},sellerPhone:p.sellerPhone};$.mutate(C)},D=async()=>{const p=V(e);await S(p)&&(e===ge.length-1?n(M)():r(e+1))},B=()=>{r(e-1)},ee=p=>{const C=Array.from(p.target.files||[]);if(l.length+C.length>ie){h(`Maximum ${ie} images allowed. You can add ${ie-l.length} more.`);return}h(null),m(U=>[...U,...C])},W=p=>{m(C=>C.filter((z,U)=>U!==p)),h(null)},V=p=>{switch(p){case 0:return["title","description"];case 1:return["price","category","subcategory"];case 2:return["sellerPhone","address","city","state","pincode"];case 3:return[];default:return[]}},H=p=>{var C,z,U;switch(p){case 0:return t.jsxs(N,{children:[t.jsx(y,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Tell us about your item"}),t.jsx(A,{name:"title",control:a,render:({field:v})=>{var g;return t.jsx(G,{...v,fullWidth:!0,label:"Title",margin:"normal",error:!!d.title,helperText:((g=d.title)==null?void 0:g.message)||"Write a clear, descriptive title",autoFocus:!0})}}),t.jsx(A,{name:"description",control:a,render:({field:v})=>{var g;return t.jsx(G,{...v,fullWidth:!0,label:"Description",multiline:!0,rows:6,margin:"normal",error:!!d.description,helperText:((g=d.description)==null?void 0:g.message)||"Describe your item in detail, including condition, features, and any defects"})}})]});case 1:return t.jsxs(N,{children:[t.jsx(y,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Category and Pricing"}),t.jsxs(se,{container:!0,spacing:2,children:[t.jsx(se,{item:!0,xs:12,sm:6,children:t.jsx(A,{name:"category",control:a,render:({field:v})=>t.jsxs(Pe,{fullWidth:!0,margin:"normal",error:!!d.category,children:[t.jsx(Me,{children:"Category"}),t.jsx(Re,{...v,label:"Category",onChange:g=>{v.onChange(g.target.value),b("subcategory")},children:x.map(g=>t.jsx(Ie,{value:g.id,children:g.name},g.id))}),d.category&&t.jsx(y,{variant:"caption",color:"error",children:d.category.message})]})})}),t.jsx(se,{item:!0,xs:12,sm:6,children:t.jsx(A,{name:"subcategory",control:a,render:({field:v})=>t.jsxs(Pe,{fullWidth:!0,margin:"normal",error:!!d.subcategory,disabled:!j,children:[t.jsx(Me,{children:"Subcategory"}),t.jsx(Re,{...v,label:"Subcategory",children:L.map(g=>t.jsx(Ie,{value:g.id,children:g.name},g.id))}),d.subcategory&&t.jsx(y,{variant:"caption",color:"error",children:d.subcategory.message})]})})})]}),t.jsx(A,{name:"price",control:a,render:({field:v})=>{var g;return t.jsx(G,{...v,fullWidth:!0,label:"Price",type:"number",margin:"normal",error:!!d.price,helperText:((g=d.price)==null?void 0:g.message)||"Set a competitive price for your item",InputProps:{startAdornment:t.jsx(st,{position:"start",children:t.jsx(_t,{})})},onChange:ze=>v.onChange(parseFloat(ze.target.value)||0)})}}),t.jsx(Ce,{sx:{mt:2,bgcolor:"info.light"},children:t.jsxs(we,{children:[t.jsx(y,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:"ðŸ’¡ Pricing Tips:"}),t.jsxs(y,{variant:"body2",children:["â€¢ Research similar items to set a competitive price",t.jsx("br",{}),"â€¢ Consider the item's condition and age",t.jsx("br",{}),"â€¢ Leave room for negotiation",t.jsx("br",{}),"â€¢ Listing fee: â‚¹99 (paid after listing approval)"]})]})})]});case 2:return t.jsxs(N,{children:[t.jsx(y,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Location and Contact"}),t.jsx(A,{name:"sellerPhone",control:a,render:({field:v})=>{var g;return t.jsx(G,{...v,fullWidth:!0,label:"Phone Number",margin:"normal",error:!!d.sellerPhone,helperText:((g=d.sellerPhone)==null?void 0:g.message)||"Buyers will use this number to contact you",placeholder:"+91 9876543210"})}}),t.jsx(A,{name:"address",control:a,render:({field:v})=>{var g;return t.jsx(G,{...v,fullWidth:!0,label:"Address",margin:"normal",error:!!d.address,helperText:((g=d.address)==null?void 0:g.message)||"Street address, building name, etc."})}}),t.jsxs(se,{container:!0,spacing:2,children:[t.jsx(se,{item:!0,xs:12,sm:6,children:t.jsx(A,{name:"city",control:a,render:({field:v})=>{var g;return t.jsx(G,{...v,fullWidth:!0,label:"City",margin:"normal",error:!!d.city,helperText:(g=d.city)==null?void 0:g.message})}})}),t.jsx(se,{item:!0,xs:12,sm:6,children:t.jsx(A,{name:"state",control:a,render:({field:v})=>{var g;return t.jsx(G,{...v,fullWidth:!0,label:"State",margin:"normal",error:!!d.state,helperText:(g=d.state)==null?void 0:g.message})}})})]}),t.jsx(A,{name:"pincode",control:a,render:({field:v})=>{var g;return t.jsx(G,{...v,fullWidth:!0,label:"Pincode",margin:"normal",error:!!d.pincode,helperText:((g=d.pincode)==null?void 0:g.message)||"6-digit postal code",inputProps:{maxLength:6}})}})]});case 3:const R=b(),Ae=(C=x.find(v=>v.id===R.category))==null?void 0:C.name,qe=(z=L.find(v=>v.id===R.subcategory))==null?void 0:z.name;return t.jsxs(N,{children:[t.jsx(y,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Review Your Listing"}),t.jsx(Ce,{sx:{mt:2},children:t.jsxs(we,{children:[t.jsx(y,{variant:"h5",gutterBottom:!0,sx:{fontWeight:"bold"},children:R.title}),t.jsxs(y,{variant:"h4",color:"primary",sx:{fontWeight:"bold",mb:2},children:["â‚¹",(U=R.price)==null?void 0:U.toLocaleString("en-IN")]}),t.jsx(y,{variant:"body1",sx:{mb:2},children:R.description}),t.jsxs(N,{sx:{mb:2},children:[t.jsx(y,{variant:"body2",color:"text.secondary",children:"Category:"}),t.jsxs(y,{variant:"body1",children:[Ae," â€º ",qe]})]}),t.jsxs(N,{sx:{mb:2},children:[t.jsx(y,{variant:"body2",color:"text.secondary",children:"Location:"}),t.jsxs(y,{variant:"body1",children:[R.address,", ",R.city,", ",R.state," - ",R.pincode]})]}),t.jsxs(N,{children:[t.jsx(y,{variant:"body2",color:"text.secondary",children:"Contact:"}),t.jsx(y,{variant:"body1",children:R.sellerPhone})]})]})}),t.jsxs(fe,{severity:"info",sx:{mt:3},children:[t.jsx(y,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:"Next Steps:"}),t.jsxs(y,{variant:"body2",children:["1. Your listing will be saved as a draft",t.jsx("br",{}),"2. Pay the listing fee of ",et(tt)," to publish",t.jsx("br",{}),"3. Your listing will be reviewed and go live within 24 hours"]})]})]});default:return null}};return t.jsx(ot,{maxWidth:"md",sx:{mt:2,mb:4},children:t.jsxs(Ke,{elevation:3,sx:{p:4,borderRadius:3},children:[t.jsxs(N,{textAlign:"center",mb:4,children:[t.jsx(y,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Create New Listing"}),t.jsx(y,{variant:"body1",color:"text.secondary",children:"Reach thousands of potential buyers in your area"})]}),s&&t.jsx(fe,{severity:"error",sx:{mb:3},children:s}),t.jsx(Gt,{activeStep:e,sx:{mb:4},children:ge.map(p=>t.jsx(Lt,{children:t.jsx(Be,{children:p})},p))}),t.jsxs("form",{onSubmit:n(M),children:[H(e),t.jsxs(N,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[t.jsx(Se,{disabled:e===0,onClick:B,variant:"outlined",children:"Back"}),t.jsx(Se,{variant:"contained",onClick:D,disabled:$.isPending,children:$.isPending?"Creating...":e===ge.length-1?"Create Listing":"Next"})]})]}),t.jsxs(N,{sx:{mt:4,p:3,border:c?"2px dashed red":"2px dashed",borderColor:c?"error.main":"grey.300",borderRadius:2,textAlign:"center",bgcolor:c?"error.light":"grey.50"},children:[t.jsx("input",{accept:"image/*",style:{display:"none"},id:"image-upload",multiple:!0,type:"file",onChange:ee}),t.jsx("label",{htmlFor:"image-upload",children:t.jsx(je,{color:"primary","aria-label":"upload picture",component:"span",size:"large",children:t.jsx(rt,{sx:{fontSize:48}})})}),t.jsxs(y,{variant:"h6",gutterBottom:!0,children:["Add Photos (",l.length,"/",ie,")"]}),t.jsxs(y,{variant:"body2",color:"text.secondary",children:["Upload up to ",ie," photos of your item"]}),c&&t.jsx(y,{variant:"body2",color:"error",sx:{mt:1},children:c})]}),l.length>0&&t.jsxs(N,{sx:{mt:3},children:[t.jsx(y,{variant:"h6",gutterBottom:!0,children:"Selected Images"}),t.jsx(lt,{sx:{width:"100%",height:200},cols:5,rowHeight:160,children:l.map((p,C)=>t.jsxs(ut,{children:[t.jsx("img",{src:URL.createObjectURL(p),alt:`Preview ${C+1}`,loading:"lazy",style:{objectFit:"cover",height:"100%"}}),t.jsx(ft,{actionIcon:t.jsx(je,{sx:{color:"rgba(255, 255, 255, 0.54)"},onClick:()=>W(C),children:t.jsx(Qt,{})})})]},C))})]})]})})};export{co as default};
