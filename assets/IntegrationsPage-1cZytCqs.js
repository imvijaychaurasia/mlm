import{l as A,j as e,r as x,I as Xe,b5 as W,b6 as Ze,b7 as f,J as g,T as n,K as w,L as ea,W as F,b8 as fe,P as U,O as b,M as I,Y as aa,a7 as ra,a8 as ve,aN as ta,a9 as pe,Z as sa,aP as be,aM as ye,b9 as ia,ba as na}from"./index-OIlrF6ts.js";import{C as oa}from"./Container-Bm6iMvXw.js";import{G as v,C as ae}from"./Grid-CTZjRrGg.js";import{C as re}from"./CardContent-C-hmPjTP.js";import{T as la,a as ca,b as da,c as je,d as _,e as ua}from"./TableRow-CNoKM27-.js";import{F as N,I as V,S as H,T as y}from"./TextField-B4epLPd5.js";import{T as ha,a as ma}from"./Tabs-BL5p0lzA.js";import{C as ga,W as xa}from"./Warning-tokwjDqO.js";import{C as fa}from"./CardActions-Cyp57HhH.js";import{D as Q,a as q,b as Y,c as J,S as va}from"./Snackbar-CMgPnVKG.js";import{S as ke}from"./Security-BStRRcVV.js";import{P as Ce}from"./Payment-BaOPCplp.js";import{L as Me}from"./LocationOn-Byohf_RF.js";const Ie=A(e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"})),pa=A(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),Se=A(e.jsx("path",{d:"M21.5 14.98c-.02 0-.03 0-.05.01C21.2 13.3 19.76 12 18 12c-1.4 0-2.6.83-3.16 2.02C13.26 14.1 12 15.4 12 17c0 1.66 1.34 3 3 3l6.5-.02c1.38 0 2.5-1.12 2.5-2.5s-1.12-2.5-2.5-2.5M10 4.26v2.09C7.67 7.18 6 9.39 6 12c0 1.77.78 3.34 2 4.44V14h2v6H4v-2h2.73C5.06 16.54 4 14.4 4 12c0-3.73 2.55-6.85 6-7.74M20 6h-2.73c1.43 1.26 2.41 3.01 2.66 5h-2.02c-.23-1.36-.93-2.55-1.91-3.44V10h-2V4h6z"})),ba=A(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),ya=A(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),ja=A(e.jsx("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7"})),we=A(e.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"})),Ae=A(e.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}));var ka=10,L="0123456789bcdefghjkmnpqrstuvwxyz",Ca=40007860,Pe=110574,K=5,Te=22*K,Ma=6378137,Ia=.00669447819799,Sa=1e-12;function Fe(r){return Math.log(r)/Math.log(2)}function Re(r){var t;if(!Array.isArray(r))t="location must be an array";else if(r.length!==2)t="expected array of length 2, got length "+r.length;else{var o=r[0],s=r[1];typeof o!="number"||isNaN(o)?t="latitude must be a number":o<-90||o>90?t="latitude must be within the range [-90, 90]":typeof s!="number"||isNaN(s)?t="longitude must be a number":(s<-180||s>180)&&(t="longitude must be within the range [-180, 180]")}if(typeof t<"u")throw new Error("Invalid GeoFire location '"+r+"': "+t)}function wa(r){var t;if(typeof r!="string")t="geohash must be a string";else if(r.length===0)t="geohash cannot be the empty string";else for(var o=0,s=r;o<s.length;o++){var c=s[o];L.indexOf(c)===-1&&(t="geohash cannot contain '"+c+"'")}if(typeof t<"u")throw new Error("Invalid GeoFire geohash '"+r+"': "+t)}function Aa(r){if(typeof r!="number"||isNaN(r))throw new Error("Error: degrees must be a number");return r*Math.PI/180}function te(r,t){if(t===void 0&&(t=ka),Re(r),typeof t<"u"){if(typeof t!="number"||isNaN(t))throw new Error("precision must be a number");if(t<=0)throw new Error("precision must be greater than 0");if(t>22)throw new Error("precision cannot be greater than 22");if(Math.round(t)!==t)throw new Error("precision must be an integer")}for(var o={min:-90,max:90},s={min:-180,max:180},c="",i=0,d=0,u=1;c.length<t;){var p=u?r[1]:r[0],h=u?s:o,j=(h.min+h.max)/2;p>j?(i=(i<<1)+1,h.min=j):(i=(i<<1)+0,h.max=j),u=!u,d<4?d++:(d=0,c+=L[i],i=0)}return c}function se(r,t){var o=Aa(t),s=Math.cos(o)*Ma*Math.PI/180,c=1/Math.sqrt(1-Ia*Math.sin(o)*Math.sin(o)),i=s*c;return i<Sa?r>0?360:0:Math.min(360,r/i)}function ze(r,t){var o=se(r,t);return Math.abs(o)>1e-6?Math.max(1,Fe(360/o)):1}function za(r){return Math.min(Fe(Ca/2/r),Te)}function E(r){if(r<=180&&r>=-180)return r;var t=r+180;return t>0?t%360-180:180- -t%360}function Pa(r,t){var o=t/Pe,s=Math.min(90,r[0]+o),c=Math.max(-90,r[0]-o),i=Math.floor(za(t))*2,d=Math.floor(ze(t,s))*2-1,u=Math.floor(ze(t,c))*2-1;return Math.min(i,d,u,Te)}function Ta(r,t){var o=t/Pe,s=Math.min(90,r[0]+o),c=Math.max(-90,r[0]-o),i=se(t,s),d=se(t,c),u=Math.max(i,d);return[[r[0],r[1]],[r[0],E(r[1]-u)],[r[0],E(r[1]+u)],[s,r[1]],[s,E(r[1]-u)],[s,E(r[1]+u)],[c,r[1]],[c,E(r[1]-u)],[c,E(r[1]+u)]]}function Fa(r,t){wa(r);var o=Math.ceil(t/K);if(r.length<o)return[r,r+"~"];r=r.substring(0,o);var s=r.substring(0,r.length-1),c=L.indexOf(r.charAt(r.length-1)),i=t-s.length*K,d=K-i,u=c>>d<<d,p=u+(1<<d);return p>31?[s+L[u],s+"~"]:[s+L[u],s+L[p]]}function Ra(r,t){Re(r);var o=Math.max(1,Pa(r,t)),s=Math.ceil(o/K),c=Ta(r,t),i=c.map(function(d){return Fa(te(d,s),o)});return i.filter(function(d,u){return!i.some(function(p,h){return u>h&&d[0]===p[0]&&d[1]===p[1]})})}const Da=()=>{const[r,t]=x.useState(null),[o,s]=x.useState(!1),[c,i]=x.useState(null),d=x.useCallback(()=>new Promise((h,j)=>{if(!navigator.geolocation){const C="Geolocation is not supported by this browser";i(C),j(new Error(C));return}s(!0),i(null),navigator.geolocation.getCurrentPosition(C=>{const M={lat:C.coords.latitude,lng:C.coords.longitude,accuracy:C.coords.accuracy};t(M),s(!1),h(M)},C=>{const M=`Geolocation error: ${C.message}`;i(M),s(!1),j(new Error(M))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}),[]),u=x.useCallback(h=>te([h.lat,h.lng]),[]),p=x.useCallback((h,j)=>{const C=te([h.lat,h.lng]),M=Ra([h.lat,h.lng],j*1e3);return{center:C,bounds:M.map(R=>[R[0],R[1]])}},[]);return{location:r,loading:o,error:c,getCurrentLocation:d,getGeohash:u,getQueryBounds:p}};function Wa(r){const{children:t,value:o,index:s,...c}=r;return e.jsx("div",{role:"tabpanel",hidden:o!==s,id:`integration-tabpanel-${s}`,"aria-labelledby":`integration-tab-${s}`,...c,children:o===s&&e.jsx(g,{sx:{py:3},children:t})})}const qa=()=>{var ue,he,me,ge,xe;const r=Xe(),[t,o]=x.useState(0),[s,c]=x.useState({open:!1}),[i,d]=x.useState(W()),[u,p]=x.useState(!1),[h,j]=x.useState(!1),[C,M]=x.useState(!1),[R,D]=x.useState({open:!1,message:"",severity:"info"}),{config:m,updateFirebaseConfig:De,updateRazorpayConfig:We,updateGeoProvider:Ee,toggleMockAdmin:Le,loadConfig:ie}=Ze(),{location:S,loading:X,error:ne,getCurrentLocation:Be,getGeohash:oe,getQueryBounds:le}=Da(),[z,O]=x.useState({keyId:"",webhookUrl:"",returnUrl:""}),[k,P]=x.useState({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""});x.useEffect(()=>{ie(),d(W())},[ie]),x.useEffect(()=>{O({keyId:m.razorpay.keyId||i.config.razorpay.keyId||"",webhookUrl:m.razorpay.webhookUrl,returnUrl:m.razorpay.returnUrl}),P({apiKey:m.firebase.apiKey||i.config.firebase.apiKey||"",authDomain:m.firebase.authDomain||i.config.firebase.authDomain||"",projectId:m.firebase.projectId||i.config.firebase.projectId||"",storageBucket:m.firebase.storageBucket||i.config.firebase.storageBucket||"",messagingSenderId:m.firebase.messagingSenderId||i.config.firebase.messagingSenderId||"",appId:m.firebase.appId||i.config.firebase.appId||""})},[m,i]);const Z=[{id:"auth-mock",name:"Mock Authentication",category:"auth",provider:"Mock",status:"active",description:"Mock authentication service for development and testing",features:["Email/Password Login","Google OAuth Simulation","Phone OTP Verification","User Management"],isActive:f("auth")==="mock",isMock:!0},{id:"auth-firebase",name:"Firebase Authentication",category:"auth",provider:"Firebase",status:f("auth")==="firebase"?"active":"inactive",description:"Secure authentication with Firebase Auth",features:["Email/Password Login","Google OAuth","Phone OTP","Multi-factor Authentication"],isActive:f("auth")==="firebase",isMock:!1},{id:"payments-mock",name:"Mock Payment Gateway",category:"payments",provider:"Mock",status:"active",description:"Simulated payment processing for development",features:["Payment Simulation","Refund Processing","Transaction History","Webhook Testing"],isActive:f("payments")==="mock",isMock:!0},{id:"payments-razorpay",name:"Razorpay",category:"payments",provider:"Razorpay",status:f("payments")==="razorpay"?"active":"inactive",description:"Complete payment solution for Indian businesses",features:["Cards","UPI","Net Banking","Wallets","EMI","International Payments"],isActive:f("payments")==="razorpay",isMock:!1},{id:"geo-mock",name:"Mock Geo Location",category:"geo",provider:"Mock",status:"active",description:"Simulated geolocation services",features:["Location Simulation","Distance Calculation","Geohash Generation","Bounds Queries"],isActive:m.geo.provider==="mock",isMock:!0},{id:"geo-geofire",name:"Geofire (Firestore)",category:"geo",provider:"Geofire",status:m.geo.provider==="geofire"?"active":"inactive",description:"Real-time geolocation queries with Firestore",features:["Real-time Location Queries","Geohash Indexing","Radius Searches","Location Updates"],isActive:m.geo.provider==="geofire",isMock:!1},{id:"notifications-mock",name:"Mock Notifications",category:"notifications",provider:"Mock",status:"active",description:"Simulated notification service",features:["SMS Simulation","Email Simulation","Push Notifications","Event Tracking"],isActive:!0,isMock:!0},{id:"storage-mock",name:"Mock Storage",category:"storage",provider:"Mock",status:"active",description:"Simulated file storage service",features:["Image Upload Simulation","File Management","CDN Simulation"],isActive:!0,isMock:!0},{id:"analytics-mock",name:"Mock Analytics",category:"analytics",provider:"Mock",status:"active",description:"Simulated analytics and tracking",features:["User Tracking","Event Analytics","Performance Metrics","Custom Reports"],isActive:!0,isMock:!0}],ce=[{id:"all",label:"All",icon:e.jsx(Se,{})},{id:"auth",label:"Authentication",icon:e.jsx(ke,{})},{id:"payments",label:"Payments",icon:e.jsx(Ce,{})},{id:"geo",label:"Geo Location",icon:e.jsx(Me,{})},{id:"notifications",label:"Notifications",icon:e.jsx(we,{})},{id:"storage",label:"Storage",icon:e.jsx(Ae,{})},{id:"analytics",label:"Analytics",icon:e.jsx(Ie,{})}],Ge=(a,l)=>{o(l)},Ue=a=>{c({open:!0,integration:a})},$=(a,l)=>{na(a,l),d(W()),D({open:!0,message:`${a} provider switched to ${l}`,severity:"success"})},Ne=a=>{Ee(a),d(W()),D({open:!0,message:`Geo provider switched to ${a}`,severity:"success"})},Ve=()=>{p(!0)},He=()=>{j(!0)},Ke=()=>{We(z),p(!1),d(W()),D({open:!0,message:"Razorpay configuration saved",severity:"success"})},Oe=()=>{De(k),j(!1),d(W()),D({open:!0,message:"Firebase configuration saved",severity:"success"})},$e=async()=>{try{await Be(),M(!0)}catch(a){D({open:!0,message:`Geolocation failed: ${a}`,severity:"error"})}},ee=()=>{c({open:!1})},_e=a=>{switch(a){case"active":return"success";case"configured":return"info";case"error":return"error";case"inactive":return"default";default:return"default"}},Qe=a=>{switch(a){case"auth":return e.jsx(ke,{});case"payments":return e.jsx(Ce,{});case"geo":return e.jsx(Me,{});case"notifications":return e.jsx(we,{});case"storage":return e.jsx(Ae,{});case"analytics":return e.jsx(Ie,{});default:return e.jsx(Se,{})}},qe=a=>i.providers.find(l=>l.name===a),B=a=>{if(f(a)==="mock")return[];const T=qe(a==="auth"?"Firebase":a==="payments"?"Razorpay":a==="data"||a==="storage"?"Firebase":"");return(T==null?void 0:T.keys.filter(G=>!G.present).map(G=>G.key))||[]},Ye=()=>{if(t===0)return Z;const a=ce[t].id;return Z.filter(l=>l.category===a)},de=()=>{const a=[];return["auth","payments","data","storage"].forEach(l=>{const T=f(l),G=B(l);if(T!=="mock"&&G.length>0){const Je=l==="auth"?"Firebase Auth":l==="payments"?"Razorpay":l==="data"?"Firestore":l==="storage"?"Firebase Storage":l;a.push(Je)}}),a};return e.jsxs(oa,{maxWidth:"lg",sx:{px:{xs:2,sm:3},py:{xs:2,sm:3}},children:[e.jsxs(g,{sx:{mb:4,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx(n,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Integrations"}),e.jsx(n,{variant:"body1",color:"text.secondary",children:"Manage your service providers and API integrations"})]}),e.jsx(w,{variant:"outlined",onClick:()=>r(ea.ADMIN),children:"Back to Admin"})]}),e.jsxs(F,{severity:"info",sx:{mb:4},children:[e.jsx(n,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:fe()?"Demo Mode Active":"Production Mode"}),e.jsx(n,{variant:"body2",children:fe()?"This is a demonstration of the integrations system. All services are currently using mock adapters.":"You can switch between different service providers. Make sure to configure the required environment variables."})]}),de().length>0&&e.jsxs(F,{severity:"warning",sx:{mb:4},children:[e.jsxs(n,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:["Mock Mode enforced: missing env vars for ",de().join(", ")]}),e.jsx(n,{variant:"body2",children:"Some providers have missing environment variables and are falling back to Mock mode."})]}),e.jsxs(U,{elevation:2,sx:{p:3,mb:4,borderRadius:2},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Environment Status"}),e.jsx(v,{container:!0,spacing:3,children:i.providers.map(a=>e.jsx(v,{item:!0,xs:12,sm:6,md:4,children:e.jsx(ae,{variant:"outlined",children:e.jsxs(re,{children:[e.jsxs(g,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:"bold"},children:a.name}),e.jsx(b,{size:"small",label:a.isValid?"Complete":"Incomplete",color:a.isValid?"success":"error"})]}),e.jsx(la,{children:e.jsxs(ca,{size:"small",children:[e.jsx(da,{children:e.jsxs(je,{children:[e.jsx(_,{children:"Environment Variable"}),e.jsx(_,{align:"center",children:"Status"})]})}),e.jsx(ua,{children:a.keys.map(l=>e.jsxs(je,{children:[e.jsx(_,{children:e.jsx(n,{variant:"body2",sx:{fontFamily:"monospace"},children:l.key})}),e.jsx(_,{align:"center",children:l.present?e.jsx(pa,{color:"success",fontSize:"small"}):e.jsx(ba,{color:"error",fontSize:"small"})})]},l.key))})]})})]})})},a.name))})]}),e.jsxs(U,{elevation:2,sx:{p:3,mb:4,borderRadius:2},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Active Providers"}),e.jsxs(v,{container:!0,spacing:3,children:[e.jsxs(v,{item:!0,xs:12,sm:6,md:2,children:[e.jsxs(N,{fullWidth:!0,size:"small",children:[e.jsx(V,{children:"Authentication"}),e.jsxs(H,{value:f("auth"),label:"Authentication",onChange:a=>$("auth",a.target.value),children:[e.jsx(I,{value:"mock",children:"Mock"}),e.jsxs(I,{value:"firebase",disabled:!i.config.firebase.apiKey,children:["Firebase ",!i.config.firebase.apiKey&&"(Config Missing)"]})]})]}),B("auth").length>0&&f("auth")!=="mock"&&e.jsx(b,{size:"small",label:"Using Mock (missing env)",color:"warning",sx:{mt:1}})]}),e.jsxs(v,{item:!0,xs:12,sm:6,md:2,children:[e.jsxs(N,{fullWidth:!0,size:"small",children:[e.jsx(V,{children:"Data Storage"}),e.jsxs(H,{value:f("data"),label:"Data Storage",onChange:a=>$("data",a.target.value),children:[e.jsx(I,{value:"mock",children:"Mock"}),e.jsxs(I,{value:"firestore",disabled:!i.config.firebase.projectId,children:["Firestore ",!i.config.firebase.projectId&&"(Config Missing)"]})]})]}),B("data").length>0&&f("data")!=="mock"&&e.jsx(b,{size:"small",label:"Using Mock (missing env)",color:"warning",sx:{mt:1}})]}),e.jsxs(v,{item:!0,xs:12,sm:6,md:2,children:[e.jsxs(N,{fullWidth:!0,size:"small",children:[e.jsx(V,{children:"Payments"}),e.jsxs(H,{value:f("payments"),label:"Payments",onChange:a=>$("payments",a.target.value),children:[e.jsx(I,{value:"mock",children:"Mock"}),e.jsxs(I,{value:"razorpay",disabled:!i.config.razorpay.keyId&&!m.razorpay.keyId,children:["Razorpay ",!i.config.razorpay.keyId&&!m.razorpay.keyId&&"(Config Missing)"]})]})]}),B("payments").length>0&&f("payments")!=="mock"&&e.jsx(b,{size:"small",label:"Using Mock (missing env)",color:"warning",sx:{mt:1}})]}),e.jsxs(v,{item:!0,xs:12,sm:6,md:2,children:[e.jsxs(N,{fullWidth:!0,size:"small",children:[e.jsx(V,{children:"Geo Location"}),e.jsxs(H,{value:m.geo.provider,label:"Geo Location",onChange:a=>Ne(a.target.value),children:[e.jsx(I,{value:"mock",children:"Mock"}),e.jsxs(I,{value:"geofire",disabled:!i.config.firebase.projectId,children:["Geofire ",!i.config.firebase.projectId&&"(Firestore Required)"]}),e.jsx(I,{value:"none",children:"None"})]})]}),m.geo.provider==="geofire"&&!i.config.firebase.projectId&&e.jsx(b,{size:"small",label:"Using Mock (missing env)",color:"warning",sx:{mt:1}})]}),e.jsxs(v,{item:!0,xs:12,sm:6,md:2,children:[e.jsxs(N,{fullWidth:!0,size:"small",children:[e.jsx(V,{children:"File Storage"}),e.jsxs(H,{value:f("storage"),label:"File Storage",onChange:a=>$("storage",a.target.value),children:[e.jsx(I,{value:"mock",children:"Mock"}),e.jsxs(I,{value:"firebase",disabled:!i.config.firebase.storageBucket,children:["Firebase Storage ",!i.config.firebase.storageBucket&&"(Config Missing)"]})]})]}),B("storage").length>0&&f("storage")!=="mock"&&e.jsx(b,{size:"small",label:"Using Mock (missing env)",color:"warning",sx:{mt:1}})]})]})]}),e.jsxs(U,{elevation:2,sx:{p:3,mb:4,borderRadius:2},children:[e.jsxs(g,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(n,{variant:"h6",sx:{fontWeight:"bold"},children:"Geo Location Test"}),e.jsx(w,{variant:"contained",startIcon:X?e.jsx(aa,{size:16}):e.jsx(ja,{}),onClick:$e,disabled:X,children:X?"Detecting...":"Detect Location"})]}),S&&e.jsxs(g,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[e.jsx(b,{label:`Lat: ${S.lat.toFixed(6)}`,variant:"outlined"}),e.jsx(b,{label:`Lng: ${S.lng.toFixed(6)}`,variant:"outlined"}),e.jsx(b,{label:`Geohash: ${oe(S)}`,variant:"outlined"}),e.jsx(b,{label:`5km bounds: ${le(S,5).bounds.length} ranges`,variant:"outlined"})]}),ne&&e.jsx(F,{severity:"error",sx:{mt:2},children:ne})]}),e.jsxs(U,{elevation:3,sx:{borderRadius:3},children:[e.jsx(g,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsx(ha,{value:t,onChange:Ge,variant:"scrollable",scrollButtons:"auto","aria-label":"integration categories",children:ce.map((a,l)=>e.jsx(ma,{icon:a.icon,label:a.label,iconPosition:"start"},a.id))})}),e.jsx(Wa,{value:t,index:t,children:e.jsx(v,{container:!0,spacing:3,children:Ye().map(a=>e.jsx(v,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(ae,{sx:{height:"100%",display:"flex",flexDirection:"column",border:a.isActive?2:1,borderColor:a.isActive?"success.main":"divider"},children:[e.jsxs(re,{sx:{flexGrow:1},children:[e.jsxs(g,{sx:{display:"flex",alignItems:"center",mb:2},children:[Qe(a.category),e.jsx(n,{variant:"h6",sx:{ml:1,fontWeight:"bold",flexGrow:1},children:a.name}),e.jsxs(g,{sx:{display:"flex",gap:1},children:[e.jsx(b,{size:"small",label:a.status,color:_e(a.status)}),a.isMock&&e.jsx(b,{size:"small",label:"Mock",color:"warning",variant:"outlined"})]})]}),e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mb:2},children:a.description}),e.jsx(n,{variant:"subtitle2",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Features:"}),e.jsxs(ra,{dense:!0,children:[a.features.slice(0,4).map((l,T)=>e.jsxs(ve,{sx:{py:.5,pl:0},children:[e.jsx(ta,{sx:{minWidth:32},children:e.jsx(ga,{color:"success",fontSize:"small"})}),e.jsx(pe,{primary:l,primaryTypographyProps:{variant:"body2"}})]},T)),a.features.length>4&&e.jsx(ve,{sx:{py:.5,pl:0},children:e.jsx(pe,{primary:`+${a.features.length-4} more features`,primaryTypographyProps:{variant:"body2",color:"text.secondary"}})})]})]}),e.jsx(sa,{}),e.jsxs(fa,{sx:{justifyContent:"space-between",p:2},children:[e.jsx(be,{control:e.jsx(ye,{checked:a.isActive,onChange:()=>Ue(a),color:"success"}),label:a.isActive?"Active":"Inactive"}),e.jsx(w,{size:"small",startIcon:e.jsx(ia,{}),onClick:()=>{a.category==="payments"&&a.provider==="Razorpay"?Ve():a.category==="auth"&&a.provider==="Firebase"?He():c({open:!0,integration:a})},children:"Configure"})]})]})},a.id))})})]}),e.jsxs(U,{elevation:2,sx:{p:3,mb:4,borderRadius:2},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Demo Controls"}),e.jsx(be,{control:e.jsx(ye,{checked:m.mockAdmin,onChange:Le,color:"warning"}),label:"Enable Mock Admin Access (Demo Only)"}),e.jsx(n,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Toggle admin access for the current user in demo mode"})]}),e.jsxs(Q,{open:h,onClose:()=>j(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(q,{children:"Configure Firebase"}),e.jsxs(Y,{children:[e.jsxs(F,{severity:"info",sx:{mb:3},children:[e.jsx(n,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:"Demo Configuration"}),e.jsx(n,{variant:"body2",children:"These values are stored locally for demo purposes. In production, use environment variables."})]}),e.jsx(y,{fullWidth:!0,label:"API Key",value:k.apiKey,onChange:a=>P({...k,apiKey:a.target.value}),margin:"normal",helperText:"Your Firebase Web API Key"}),e.jsx(y,{fullWidth:!0,label:"Auth Domain",value:k.authDomain,onChange:a=>P({...k,authDomain:a.target.value}),margin:"normal",placeholder:"your-project.firebaseapp.com",helperText:"Firebase Auth Domain"}),e.jsx(y,{fullWidth:!0,label:"Project ID",value:k.projectId,onChange:a=>P({...k,projectId:a.target.value}),margin:"normal",helperText:"Firebase Project ID"}),e.jsx(y,{fullWidth:!0,label:"Storage Bucket",value:k.storageBucket,onChange:a=>P({...k,storageBucket:a.target.value}),margin:"normal",placeholder:"your-project.appspot.com",helperText:"Firebase Storage Bucket"}),e.jsx(y,{fullWidth:!0,label:"Messaging Sender ID",value:k.messagingSenderId,onChange:a=>P({...k,messagingSenderId:a.target.value}),margin:"normal",helperText:"Firebase Cloud Messaging Sender ID"}),e.jsx(y,{fullWidth:!0,label:"App ID",value:k.appId,onChange:a=>P({...k,appId:a.target.value}),margin:"normal",helperText:"Firebase App ID"})]}),e.jsxs(J,{children:[e.jsx(w,{onClick:()=>j(!1),children:"Cancel"}),e.jsx(w,{variant:"contained",onClick:Oe,children:"Save Configuration"})]})]}),e.jsxs(Q,{open:u,onClose:()=>p(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(q,{children:"Configure Razorpay"}),e.jsxs(Y,{children:[e.jsxs(F,{severity:"info",sx:{mb:3},children:[e.jsx(n,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:"Safe Client Configuration"}),e.jsx(n,{variant:"body2",children:"Only client-safe values are stored here. Secret keys must be configured on your backend server."})]}),e.jsx(y,{fullWidth:!0,label:"API Key (key_id)",value:z.keyId,onChange:a=>O({...z,keyId:a.target.value}),margin:"normal",helperText:"Your Razorpay Key ID (safe to store client-side)"}),e.jsx(y,{fullWidth:!0,label:"Secret Key",value:"••••••••••••••••",margin:"normal",disabled:!0,helperText:"Server-side only; configure in backend environment variables"}),e.jsx(y,{fullWidth:!0,label:"Webhook URL (Optional)",value:z.webhookUrl,onChange:a=>O({...z,webhookUrl:a.target.value}),margin:"normal",placeholder:"https://yourapp.com/api/webhooks/razorpay",helperText:"URL where payment notifications will be sent"}),e.jsx(y,{fullWidth:!0,label:"Return URL (Optional)",value:z.returnUrl,onChange:a=>O({...z,returnUrl:a.target.value}),margin:"normal",placeholder:"https://yourapp.com/payment-success",helperText:"URL where users will be redirected after payment (demo mode only)"}),e.jsxs(g,{sx:{mt:2,p:2,bgcolor:"warning.light",borderRadius:1},children:[e.jsxs(n,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:[e.jsx(xa,{sx:{fontSize:16,mr:.5}}),"Security Note:"]}),e.jsx(n,{variant:"body2",children:"Never store secret keys in client-side code. This demo only stores the Key ID for checkout initialization."})]})]}),e.jsxs(J,{children:[e.jsx(w,{onClick:()=>p(!1),children:"Cancel"}),e.jsx(w,{variant:"contained",onClick:Ke,children:"Save Configuration"})]})]}),e.jsxs(Q,{open:C,onClose:()=>M(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(q,{children:"Geo Location Test Results"}),e.jsx(Y,{children:S&&e.jsxs(g,{children:[e.jsx(n,{variant:"h6",gutterBottom:!0,children:"Current Location"}),e.jsxs(v,{container:!0,spacing:2,sx:{mb:3},children:[e.jsxs(v,{item:!0,xs:6,children:[e.jsx(n,{variant:"body2",color:"text.secondary",children:"Latitude"}),e.jsx(n,{variant:"body1",sx:{fontFamily:"monospace"},children:S.lat.toFixed(6)})]}),e.jsxs(v,{item:!0,xs:6,children:[e.jsx(n,{variant:"body2",color:"text.secondary",children:"Longitude"}),e.jsx(n,{variant:"body1",sx:{fontFamily:"monospace"},children:S.lng.toFixed(6)})]})]}),e.jsx(n,{variant:"h6",gutterBottom:!0,children:"Geohash & Bounds"}),e.jsxs(g,{sx:{mb:2},children:[e.jsx(n,{variant:"body2",color:"text.secondary",children:"Geohash"}),e.jsx(n,{variant:"body1",sx:{fontFamily:"monospace"},children:oe(S)})]}),e.jsxs(g,{children:[e.jsx(n,{variant:"body2",color:"text.secondary",children:"5km Query Bounds"}),e.jsx(g,{sx:{maxHeight:200,overflow:"auto",mt:1},children:le(S,5).bounds.map((a,l)=>e.jsxs(n,{variant:"body2",sx:{fontFamily:"monospace"},children:["[",a[0],", ",a[1],"]"]},l))})]})]})}),e.jsx(J,{children:e.jsx(w,{onClick:()=>M(!1),children:"Close"})})]}),e.jsxs(Q,{open:s.open,onClose:ee,maxWidth:"md",fullWidth:!0,children:[e.jsx(q,{children:(ue=s.integration)!=null&&ue.isMock?"Switch Provider":"Configure Integration"}),e.jsx(Y,{children:(he=s.integration)!=null&&he.isMock?e.jsxs(g,{children:[e.jsxs(F,{severity:"info",sx:{mb:3},children:[e.jsx(n,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:"Mock Provider Active"}),e.jsxs(n,{variant:"body2",children:["You can switch to a real provider by configuring the API credentials below. For now, the mock provider is handling all ",s.integration.category," operations."]})]}),e.jsxs(n,{variant:"h6",gutterBottom:!0,children:["Available Providers for ",s.integration.category,":"]}),e.jsx(v,{container:!0,spacing:2,children:Z.filter(a=>{var l;return a.category===((l=s.integration)==null?void 0:l.category)}).map(a=>e.jsx(v,{item:!0,xs:12,children:e.jsx(ae,{sx:{border:a.isActive?2:1,borderColor:a.isActive?"success.main":"divider"},children:e.jsxs(re,{children:[e.jsxs(g,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsx(n,{variant:"h6",sx:{flexGrow:1},children:a.name}),a.isActive&&e.jsx(b,{size:"small",label:"Active",color:"success"}),a.isMock&&e.jsx(b,{size:"small",label:"Mock",color:"warning",variant:"outlined"})]}),e.jsx(n,{variant:"body2",color:"text.secondary",children:a.description})]})})},a.id))})]}):e.jsxs(g,{children:[e.jsxs(F,{severity:"warning",sx:{mb:3},children:[e.jsx(n,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:"Production Configuration"}),e.jsxs(n,{variant:"body2",children:["To activate ",(me=s.integration)==null?void 0:me.name,", you'll need to provide API credentials. This demo doesn't store real credentials."]})]}),e.jsx(y,{fullWidth:!0,label:"API Key",placeholder:"Enter your API key",margin:"normal",type:"password",helperText:"Your API key will be securely stored and encrypted"}),e.jsx(y,{fullWidth:!0,label:"Secret Key",placeholder:"Enter your secret key",margin:"normal",type:"password",helperText:"Required for secure API communication"}),((ge=s.integration)==null?void 0:ge.category)==="payments"&&e.jsxs(e.Fragment,{children:[e.jsx(y,{fullWidth:!0,label:"Webhook URL",placeholder:"https://yourapp.com/webhook",margin:"normal",helperText:"URL where payment notifications will be sent"}),e.jsx(y,{fullWidth:!0,label:"Return URL",placeholder:"https://yourapp.com/payment-success",margin:"normal",helperText:"URL where users will be redirected after payment"})]}),e.jsxs(g,{sx:{mt:2,p:2,bgcolor:"info.light",borderRadius:1},children:[e.jsxs(n,{variant:"body2",sx:{fontWeight:"bold",mb:1},children:[e.jsx(ya,{sx:{fontSize:16,mr:.5}}),"Next Steps:"]}),e.jsxs(n,{variant:"body2",children:["1. Test the integration in sandbox mode",e.jsx("br",{}),"2. Verify webhook endpoints",e.jsx("br",{}),"3. Update environment variables",e.jsx("br",{}),"4. Deploy and monitor"]})]})]})}),e.jsxs(J,{children:[e.jsx(w,{onClick:ee,children:"Cancel"}),e.jsx(w,{variant:"contained",onClick:ee,children:(xe=s.integration)!=null&&xe.isMock?"Keep Mock Provider":"Save Configuration"})]})]}),e.jsx(va,{open:R.open,autoHideDuration:4e3,onClose:()=>D({...R,open:!1}),message:R.message})]})};export{qa as default};
